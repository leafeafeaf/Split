(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737,28,993],{64718:function(e,t,s){Promise.resolve().then(s.bind(s,53088))},53088:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(57437),n=s(2265),r=s(99376),i=s(84028),l=s(22993),o=s(61711),d=s(35166),c=s(94508);function u(e){let{imageUrl:t,isSelected:s,onClick:n}=e;return(0,a.jsx)(d.E.button,{whileTap:{scale:.95},onClick:n,className:(0,c.cn)("relative w-full aspect-[3/4] rounded-xl overflow-hidden","bg-gradient-to-b from-[#D1D1D1] to-[#A8A8A8]",s&&"ring-2 ring-[#0066FF]"),children:(0,a.jsx)("img",{src:t||"/placeholder.svg",alt:"Bowling posture",className:"w-full h-full object-contain"})})}function m(e){let{isRightHand:t,onToggle:s}=e;return(0,a.jsxs)("button",{onClick:s,className:"relative w-12 h-6 rounded-full border-2 border-white","aria-label":"Toggle throwing hand",children:[(0,a.jsx)(d.E.div,{className:"absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full",animate:{x:t?24:0},transition:{type:"spring",stiffness:500,damping:30}}),(0,a.jsx)("span",{className:"sr-only",children:t?"Right hand":"Left hand"})]})}var f=s(9074),x=s(48614),h=s(29948),p=s(99837),g=s(14438);function b(e){let{isOpen:t,onClose:s,onSubmit:r}=e,[i,l]=(0,n.useState)(""),o=(0,h.T)(),{isLoading:c,error:u}=(0,h.C)(e=>e.device),m=async e=>{if(e.preventDefault(),i.trim())try{await o((0,p.Ky)(i.trim())).unwrap(),r(i.trim()),s()}catch(e){"string"==typeof e?g.Am.error(e):g.Am.error("Failed to start measurement")}};return(0,a.jsx)(x.M,{children:t&&(0,a.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:s,children:(0,a.jsxs)(d.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-[#1E1E2D] to-[#161622] p-6 rounded-2xl shadow-xl w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Serial Number"})}),(0,a.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-[#A2A2A7] mb-2",children:"Enter Serial Number"}),(0,a.jsx)("input",{type:"text",id:"serialNumber",value:i,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 bg-[#2E2E3D] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",required:!0,disabled:c})]}),u&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:u}),(0,a.jsx)(f.D,{type:"submit",className:"w-full py-3 text-lg font-medium",disabled:c,children:c?"Connecting...":"Submit"})]})]})})})}let v=[{id:1,imageUrl:"/check_img/bowling1.webp"},{id:2,imageUrl:"/check_img/bowling2.webp"},{id:3,imageUrl:"/check_img/bowling3.webp"},{id:4,imageUrl:"/check_img/bowling4.webp"}];function j(){let e=(0,r.useRouter)(),[t,s]=(0,n.useState)(null),[d,c]=(0,n.useState)(!0),[x,p]=(0,n.useState)(!1),{currentSerial:g}=(0,h.C)(e=>e.device);return(0,a.jsxs)("div",{className:"min-h-screen bg-[#161622] p-4 pb-24",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsx)(i.default,{}),(0,a.jsx)(l.UserMenu,{})]}),(0,a.jsxs)("div",{className:"max-w-sm mx-auto space-y-8",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2",children:v.map(e=>(0,a.jsxs)("div",{className:"w-full bg-gradient-to-r ".concat(t===e.id?"from-[#1E1E2D] to-[#2E2E4D] border-2 border-[#0066FF]":"from-[#1E1E2D] to-[#252535]"," rounded-2xl p-4 flex items-center gap-4 transition-all duration-300 hover:shadow-lg hover:from-[#1E1E2D] hover:to-[#2E2E4D] cursor-pointer"),onClick:()=>s(e.id),children:[(0,a.jsx)("div",{className:"w-20 h-20 overflow-hidden rounded-xl flex items-center justify-center",children:(0,a.jsx)(u,{imageUrl:e.imageUrl,isSelected:t===e.id,onClick:()=>{}})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-[#0066FF] text-2xl font-bold mb-1",children:1===e.id?"Stroke":2===e.id?"Dumris":3===e.id?"Cranker":"Two handed"}),(0,a.jsx)("span",{className:"text-[#A2A2A7] text-sm",children:1===e.id?"정확성 중심의 안정적인 투구":2===e.id?"엄지 없이 강한 회전과 스핀":3===e.id?"강한 손목 스냅과 폭발적인 파워":"양손을 활용한 회전 극대화"})]})]},e.id))})}),(0,a.jsxs)("div",{className:"flex justify-end items-center mt-8 mb-4",children:[(0,a.jsx)("span",{className:"text-[#A2A2A7] text-sm mr-2",children:"Left"}),(0,a.jsx)(m,{isRightHand:d,onToggle:()=>c(!d)}),(0,a.jsx)("span",{className:"text-[#A2A2A7] text-sm ml-2",children:"Right"})]}),(0,a.jsx)(f.D,{onClick:()=>{if(null===t){alert("Please select a posture first");return}p(!0)},className:"w-full py-6 text-lg font-medium",children:"측정 시작"})]}),(0,a.jsx)(o.NavigationBar,{}),(0,a.jsx)(b,{isOpen:x,onClose:()=>p(!1),onSubmit:t=>{e.push("/check/measure")}})]})}},29948:function(e,t,s){"use strict";s.d(t,{C:function(){return r},T:function(){return n}});var a=s(68575);let n=()=>(0,a.I0)(),r=a.v9},61711:function(e,t,s){"use strict";s.r(t),s.d(t,{NavigationBar:function(){return d}});var a=s(57437),n=s(27648),r=s(99376),i=s(14938),l=s(6818),o=s(85954);function d(){let e=(0,r.usePathname)();return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-[#1E1E2D] border-t border-[#2E2E3D] px-6 py-2",children:(0,a.jsxs)("nav",{className:"flex justify-between items-center max-w-md mx-auto",children:[(0,a.jsxs)(n.default,{href:"/home",className:"flex flex-col items-center gap-1 ".concat("/home"===e?"text-[#0066FF]":"text-[#A2A2A7]"),children:[(0,a.jsx)(i.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,a.jsxs)(n.default,{href:"/ranking",className:"flex flex-col items-center gap-1 ".concat("/ranking"===e?"text-[#0066FF]":"text-[#A2A2A7]"),children:[(0,a.jsx)(l.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-xs",children:"Ranking"})]}),(0,a.jsxs)(n.default,{href:"/check",className:"flex flex-col items-center gap-1 ".concat("/check"===e?"text-[#0066FF]":"text-[#A2A2A7]"),children:[(0,a.jsx)(o.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-xs",children:"Check"})]})]})})}},65452:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(57437),n=s(35166);function r(e){let{className:t=""}=e;return(0,a.jsx)("div",{className:"relative w-6 h-6 ".concat(t),children:(0,a.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"w-full h-full rounded-full",style:{background:"linear-gradient(135deg, #00FFE5 0%, #0066FF 100%)"},children:[(0,a.jsxs)("div",{className:"absolute top-[25%] left-1/2 transform -translate-x-1/2 flex gap-[2px]",children:[(0,a.jsx)("div",{className:"w-[2px] h-[2px] rounded-full bg-[#161622]"}),(0,a.jsx)("div",{className:"w-[2px] h-[2px] rounded-full bg-[#161622]"})]}),(0,a.jsx)("div",{className:"absolute top-[40%] left-1/2 transform -translate-x-1/2",children:(0,a.jsx)("div",{className:"w-[3px] h-[3px] rounded-full bg-[#161622]"})})]})})}},9074:function(e,t,s){"use strict";s.d(t,{D:function(){return i}});var a=s(57437),n=s(62869),r=s(94508);function i(e){let{children:t,className:s,...i}=e;return(0,a.jsx)(n.z,{className:(0,r.cn)("bg-[#0066FF] hover:bg-[#0066FF]/90 text-white",s),...i,children:t})}},62869:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var a=s(57437),n=s(2265),r=s(37053),i=s(90535),l=s(94508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:d=!1,...c}=e,u=d?r.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:s})),ref:t,...c})});d.displayName="Button"},84028:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(57437),n=s(35166),r=s(3011),i=s(29116),l=s(14438);let o=(0,r.U)(e=>({theme:"dark",isLoading:!1,setTheme:async t=>{e({isLoading:!0});try{await i.Z.patch("user/thema",{thema:"light"===t?1:2}),e({theme:t}),document.documentElement.classList.toggle("dark","dark"===t)}catch(e){var s,a;(null===(s=e.response)||void 0===s?void 0:s.status)===404?l.Am.error("User not found"):(null===(a=e.response)||void 0===a?void 0:a.status)===401||l.Am.error("Failed to update theme")}finally{e({isLoading:!1})}}}));function d(){let{theme:e,setTheme:t,isLoading:s}=o(),r="dark"===e,i=async()=>{s||await t(r?"light":"dark")};return(0,a.jsx)("button",{onClick:i,className:"relative w-12 h-6 rounded-full border-2 border-white ".concat(s?"opacity-50 cursor-not-allowed":""),"aria-label":"Toggle theme",disabled:s,children:(0,a.jsx)(n.E.div,{className:"absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full",animate:{x:r?0:24},transition:{type:"spring",stiffness:500,damping:30}})})}},22993:function(e,t,s){"use strict";s.r(t),s.d(t,{UserMenu:function(){return g}});var a=s(57437),n=s(2265),r=s(3032),i=s(10407),l=s(30401),o=s(40519),d=s(94508);let c=r.fC,u=r.xz;r.ZA,r.Uv,r.Tr,r.Ee,n.forwardRef((e,t)=>{let{className:s,inset:n,children:l,...o}=e;return(0,a.jsxs)(r.fF,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...o,children:[l,(0,a.jsx)(i.Z,{className:"ml-auto"})]})}).displayName=r.fF.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})}).displayName=r.tu.displayName;let m=n.forwardRef((e,t)=>{let{className:s,sideOffset:n=4,...i}=e;return(0,a.jsx)(r.Uv,{children:(0,a.jsx)(r.VY,{ref:t,sideOffset:n,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});m.displayName=r.VY.displayName;let f=n.forwardRef((e,t)=>{let{className:s,inset:n,...i}=e;return(0,a.jsx)(r.ck,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...i})});f.displayName=r.ck.displayName,n.forwardRef((e,t)=>{let{className:s,children:n,checked:i,...o}=e;return(0,a.jsxs)(r.oC,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:i,...o,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})}),n]})}).displayName=r.oC.displayName,n.forwardRef((e,t)=>{let{className:s,children:n,...i}=e;return(0,a.jsxs)(r.Rk,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(o.Z,{className:"h-2 w-2 fill-current"})})}),n]})}).displayName=r.Rk.displayName,n.forwardRef((e,t)=>{let{className:s,inset:n,...i}=e;return(0,a.jsx)(r.__,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",s),...i})}).displayName=r.__.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...n})}).displayName=r.Z0.displayName;var x=s(65452),h=s(62146);let p={1:"Male",2:"Female",3:"Prefer not to say"};function g(){let[e,t]=(0,n.useState)(!1),{user:s,isLoading:r,fetchUser:i,logout:l}=(0,h.L)();(0,n.useEffect)(()=>{!e||s||r||i()},[e,s,r,i]);let o=async()=>{t(!1),await l()};return(0,a.jsxs)(c,{open:e,onOpenChange:t,children:[(0,a.jsx)(u,{asChild:!0,children:(0,a.jsx)("button",{className:"p-1 hover:opacity-80 transition-opacity ".concat(r?"opacity-50 cursor-wait":""),"aria-label":"User menu",disabled:r,children:(0,a.jsx)(x.Z,{})})}),(0,a.jsx)(m,{className:"w-48 bg-[#1E1E2D] border-[#2E2E3D] mt-2",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{className:"flex flex-col items-start py-2 text-white cursor-default",children:(0,a.jsx)("span",{className:"text-lg font-medium",children:s.nickname})}),(0,a.jsxs)(f,{className:"py-2 text-[#A2A2A7] cursor-default",children:["Gender: ",p[s.gender]]}),(0,a.jsxs)(f,{className:"py-2 text-[#A2A2A7] cursor-default",children:["Height: ",s.height,"cm"]}),(0,a.jsx)(f,{className:"py-2 text-red-400 cursor-pointer hover:text-red-300 hover:bg-white/5",onClick:o,disabled:r,children:r?"Logging out...":"Logout"})]}):(0,a.jsx)(f,{className:"py-2 text-[#A2A2A7] cursor-default",children:r?"Loading...":"Failed to load user data"})})]})}},62146:function(e,t,s){"use strict";s.d(t,{L:function(){return i}});var a=s(3011),n=s(29116),r=s(14438);let i=(0,a.U)(e=>({user:null,isLoading:!1,fetchUser:async()=>{e({isLoading:!0});try{let t=await n.Z.get("user");"SUCCESS"===t.data.code&&e({user:t.data.data})}catch(e){var t,s;(null===(t=e.response)||void 0===t?void 0:t.status)===404?r.Am.error("User not found"):(null===(s=e.response)||void 0===s?void 0:s.status)===401||r.Am.error("Failed to fetch user data")}finally{e({isLoading:!1})}},logout:async()=>{e({isLoading:!0});try{let t=await n.Z.post("logout");"SUCCESS"===t.data.code&&(e({user:null}),r.Am.success("Successfully logged out"),window.location.href="/login")}catch(t){r.Am.error("Failed to logout"),e({user:null}),window.location.href="/login"}finally{e({isLoading:!1})}}}))},94508:function(e,t,s){"use strict";s.d(t,{cn:function(){return r}});var a=s(61994),n=s(53335);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[443,181,166,540,575,503,448,188,514,116,971,117,744],function(){return e(e.s=64718)}),_N_E=e.O()}]);