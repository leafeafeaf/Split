(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{64718:function(e,t,n){Promise.resolve().then(n.bind(n,46243))},46243:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(57437),i=n(2265),s=n(99376),l=n(84028),o=n(22993),a=n(61711),c=n(35166),u=n(94508);function d(e){let{imageUrl:t,isSelected:n,onClick:i}=e;return(0,r.jsx)(c.E.button,{whileTap:{scale:.95},onClick:i,className:(0,u.cn)("relative w-full aspect-[3/4] rounded-xl overflow-hidden","bg-gradient-to-b from-[#D1D1D1] to-[#A8A8A8]",n&&"ring-2 ring-[#0066FF]"),children:(0,r.jsx)("img",{src:t||"/placeholder.svg",alt:"Bowling posture",className:"w-full h-full object-contain"})})}function f(e){let{isRightHand:t,onToggle:n}=e;return(0,r.jsxs)("button",{onClick:n,className:"relative w-12 h-6 rounded-full border-2 border-white","aria-label":"Toggle throwing hand",children:[(0,r.jsx)(c.E.div,{className:"absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full",animate:{x:t?24:0},transition:{type:"spring",stiffness:500,damping:30}}),(0,r.jsx)("span",{className:"sr-only",children:t?"Right hand":"Left hand"})]})}var m=n(9074),h=n(58881),p=n(53576),x=n(64252),g=n(45750);class v extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function b(e){let{children:t,isPresent:n,anchorX:s}=e,l=(0,i.useId)(),o=(0,i.useRef)(null),a=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,i.useContext)(g._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:i,right:u}=a.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=l;let d=document.createElement("style");return c&&(d.nonce=c),document.head.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(i):"right: ".concat(u),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{document.head.removeChild(d)}},[n]),(0,r.jsx)(v,{isPresent:n,childRef:o,sizeRef:a,children:i.cloneElement(t,{ref:o})})}let j=e=>{let{children:t,initial:n,isPresent:s,onExitComplete:l,custom:o,presenceAffectsLayout:a,mode:c,anchorX:u}=e,d=(0,p.h)(w),f=(0,i.useId)(),m=(0,i.useCallback)(e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;l&&l()},[d,l]),h=(0,i.useMemo)(()=>({id:f,initial:n,isPresent:s,custom:o,onExitComplete:m,register:e=>(d.set(e,!1),()=>d.delete(e))}),a?[Math.random(),m]:[s,m]);return(0,i.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[s]),i.useEffect(()=>{s||d.size||!l||l()},[s]),"popLayout"===c&&(t=(0,r.jsx)(b,{isPresent:s,anchorX:u,children:t})),(0,r.jsx)(x.O.Provider,{value:h,children:t})};function w(){return new Map}var y=n(49637);let N=e=>e.key||"";function E(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var k=n(11534);let C=e=>{let{children:t,custom:n,initial:s=!0,onExitComplete:l,presenceAffectsLayout:o=!0,mode:a="sync",propagate:c=!1,anchorX:u="left"}=e,[d,f]=(0,y.oO)(c),m=(0,i.useMemo)(()=>E(t),[t]),x=c&&!d?[]:m.map(N),g=(0,i.useRef)(!0),v=(0,i.useRef)(m),b=(0,p.h)(()=>new Map),[w,C]=(0,i.useState)(m),[A,D]=(0,i.useState)(m);(0,k.L)(()=>{g.current=!1,v.current=m;for(let e=0;e<A.length;e++){let t=N(A[e]);x.includes(t)?b.delete(t):!0!==b.get(t)&&b.set(t,!1)}},[A,x.length,x.join("-")]);let F=[];if(m!==w){let e=[...m];for(let t=0;t<A.length;t++){let n=A[t],r=N(n);x.includes(r)||(e.splice(t,0,n),F.push(n))}return"wait"===a&&F.length&&(e=F),D(E(e)),C(m),null}let{forceRender:R}=(0,i.useContext)(h.p);return(0,r.jsx)(r.Fragment,{children:A.map(e=>{let t=N(e),i=(!c||!!d)&&(m===A||x.includes(t));return(0,r.jsx)(j,{isPresent:i,initial:(!g.current||!!s)&&void 0,custom:n,presenceAffectsLayout:o,mode:a,onExitComplete:i?void 0:()=>{if(!b.has(t))return;b.set(t,!0);let e=!0;b.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),D(v.current),c&&(null==f||f()),l&&l())},anchorX:u,children:e},t)})})};var A=n(29948),D=n(99837),F=n(14438);function R(e){let{isOpen:t,onClose:n,onSubmit:s}=e,[l,o]=(0,i.useState)(""),a=(0,A.T)(),{isLoading:u,error:d}=(0,A.C)(e=>e.device),f=async e=>{if(e.preventDefault(),l.trim())try{await a((0,D.Ky)(l.trim())).unwrap(),s(l.trim()),n()}catch(e){"string"==typeof e?F.Am.error(e):F.Am.error("Failed to start measurement")}};return(0,r.jsx)(C,{children:t&&(0,r.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:n,children:(0,r.jsxs)(c.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-[#1E1E2D] to-[#161622] p-6 rounded-2xl shadow-xl w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Serial Number"})}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-[#A2A2A7] mb-2",children:"Enter Serial Number"}),(0,r.jsx)("input",{type:"text",id:"serialNumber",value:l,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 bg-[#2E2E3D] text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0066FF] transition-all",required:!0,disabled:u})]}),d&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:d}),(0,r.jsx)(m.D,{type:"submit",className:"w-full py-3 text-lg font-medium",disabled:u,children:u?"Connecting...":"Submit"})]})]})})})}let S=[{id:1,imageUrl:"/check_img/bowling1.webp"},{id:2,imageUrl:"/check_img/bowling2.webp"},{id:3,imageUrl:"/check_img/bowling3.webp"},{id:4,imageUrl:"/check_img/bowling4.webp"}];function _(){let e=(0,s.useRouter)(),[t,n]=(0,i.useState)(null),[c,u]=(0,i.useState)(!0),[h,p]=(0,i.useState)(!1),{currentSerial:x}=(0,A.C)(e=>e.device);return(0,r.jsxs)("div",{className:"min-h-screen bg-[#161622] p-4 pb-24",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(o.I,{})]}),(0,r.jsxs)("div",{className:"max-w-sm mx-auto space-y-8",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2",children:S.map(e=>(0,r.jsxs)("div",{className:"w-full bg-gradient-to-r ".concat(t===e.id?"from-[#1E1E2D] to-[#2E2E4D] border-2 border-[#0066FF]":"from-[#1E1E2D] to-[#252535]"," rounded-2xl p-4 flex items-center gap-4 transition-all duration-300 hover:shadow-lg hover:from-[#1E1E2D] hover:to-[#2E2E4D] cursor-pointer"),onClick:()=>n(e.id),children:[(0,r.jsx)("div",{className:"w-20 h-20 overflow-hidden rounded-xl flex items-center justify-center",children:(0,r.jsx)(d,{imageUrl:e.imageUrl,isSelected:t===e.id,onClick:()=>{}})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-[#0066FF] text-2xl font-bold mb-1",children:1===e.id?"Stroke":2===e.id?"Dumris":3===e.id?"Cranker":"Two handed"}),(0,r.jsx)("span",{className:"text-[#A2A2A7] text-sm",children:1===e.id?"정확성 중심의 안정적인 투구":2===e.id?"엄지 없이 강한 회전과 스핀":3===e.id?"강한 손목 스냅과 폭발적인 파워":"양손을 활용한 회전 극대화"})]})]},e.id))})}),(0,r.jsxs)("div",{className:"flex justify-end items-center mt-8 mb-4",children:[(0,r.jsx)("span",{className:"text-[#A2A2A7] text-sm mr-2",children:"Left"}),(0,r.jsx)(f,{isRightHand:c,onToggle:()=>u(!c)}),(0,r.jsx)("span",{className:"text-[#A2A2A7] text-sm ml-2",children:"Right"})]}),(0,r.jsx)(m.D,{onClick:()=>{if(null===t){alert("Please select a posture first");return}p(!0)},className:"w-full py-6 text-lg font-medium",children:"측정 시작"})]}),(0,r.jsx)(a.v,{}),(0,r.jsx)(R,{isOpen:h,onClose:()=>p(!1),onSubmit:t=>{e.push("/check/measure")}})]})}},29948:function(e,t,n){"use strict";n.d(t,{C:function(){return s},T:function(){return i}});var r=n(68575);let i=()=>(0,r.I0)(),s=r.v9},9074:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var r=n(57437),i=n(62869),s=n(94508);function l(e){let{children:t,className:n,...l}=e;return(0,r.jsx)(i.z,{className:(0,s.cn)("bg-[#0066FF] hover:bg-[#0066FF]/90 text-white",n),...l,children:t})}},62869:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(57437),i=n(2265),s=n(37053),l=n(90535),o=n(94508);let a=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:n,variant:i,size:l,asChild:c=!1,...u}=e,d=c?s.g7:"button";return(0,r.jsx)(d,{className:(0,o.cn)(a({variant:i,size:l,className:n})),ref:t,...u})});c.displayName="Button"},90535:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var r=n(61994);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=r.W,l=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return s(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:l,defaultVariants:o}=t,a=Object.keys(l).map(e=>{let t=null==n?void 0:n[e],r=null==o?void 0:o[e];if(null===t)return null;let s=i(t)||i(r);return l[e][s]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return s(e,a,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...c}[t]):({...o,...c})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[443,303,166,514,575,503,648,382,116,642,971,117,744],function(){return e(e.s=64718)}),_N_E=e.O()}]);